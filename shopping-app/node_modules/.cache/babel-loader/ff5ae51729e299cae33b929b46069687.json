{"ast":null,"code":"import { cartActions } from \"./cart-clice\";\nimport { uiActions } from \"./ui-slice\";\nexport const fetchData = () => {\n  return async dispatch => {\n    const fetchHandler = async () => {\n      const res = await fetch(\"https://redux-http-d93dc-default-rtdb.firebaseio.com//cartItems.json\");\n      const data = await res.json();\n      return data;\n    };\n\n    try {\n      const cartData = await fetchHandler();\n      console.log(cartData);\n      dispatch(cartActions.replaceData(cartData));\n    } catch (err) {\n      dispatch(uiActions.showNotification({\n        open: true,\n        message: \"Sending Request Failed\",\n        type: \"error\"\n      }));\n    }\n  };\n};\nexport const sendCartData = cart => {\n  return async dispatch => {\n    dispatch(uiActions.showNotification({\n      open: true,\n      message: \"Sending Request To Database!\",\n      type: \"warning\"\n    }));\n\n    const sendRequest = async () => {\n      // Send state as Sending request\n      const res = await fetch(\"https://redux-http-bc782-default-rtdb.firebaseio.com/cartItems.json\", {\n        method: \"PUT\",\n        body: JSON.stringify(cart)\n      });\n      const data = await res.json(); // Send state as Request is successful\n\n      dispatch(uiActions.showNotification({\n        open: true,\n        message: \"Request Sent Successfully!!\",\n        type: \"success\"\n      }));\n    };\n\n    try {\n      await sendRequest();\n    } catch (err) {\n      dispatch(uiActions.showNotification({\n        open: true,\n        message: \"Sending Request Failed\",\n        type: \"error\"\n      }));\n    }\n  };\n};","map":{"version":3,"sources":["/home/ankit/Redux/shopping-app/Redux-Shopping-Cart-App/src/store/cart-actions.js"],"names":["cartActions","uiActions","fetchData","dispatch","fetchHandler","res","fetch","data","json","cartData","console","log","replaceData","err","showNotification","open","message","type","sendCartData","cart","sendRequest","method","body","JSON","stringify"],"mappings":"AAAA,SAASA,WAAT,QAA4B,cAA5B;AACA,SAASC,SAAT,QAA0B,YAA1B;AAEA,OAAO,MAAMC,SAAS,GAAG,MAAM;AAC7B,SAAO,MAAOC,QAAP,IAAoB;AACzB,UAAMC,YAAY,GAAG,YAAY;AAC/B,YAAMC,GAAG,GAAG,MAAMC,KAAK,CACrB,sEADqB,CAAvB;AAGA,YAAMC,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AACA,aAAOD,IAAP;AACD,KAND;;AAOA,QAAI;AACF,YAAME,QAAQ,GAAG,MAAML,YAAY,EAAnC;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAN,MAAAA,QAAQ,CAACH,WAAW,CAACY,WAAZ,CAAwBH,QAAxB,CAAD,CAAR;AACD,KAJD,CAIE,OAAOI,GAAP,EAAY;AACZV,MAAAA,QAAQ,CACNF,SAAS,CAACa,gBAAV,CAA2B;AACzBC,QAAAA,IAAI,EAAE,IADmB;AAEzBC,QAAAA,OAAO,EAAE,wBAFgB;AAGzBC,QAAAA,IAAI,EAAE;AAHmB,OAA3B,CADM,CAAR;AAOD;AACF,GArBD;AAsBD,CAvBM;AAyBP,OAAO,MAAMC,YAAY,GAAIC,IAAD,IAAU;AACpC,SAAO,MAAOhB,QAAP,IAAoB;AACzBA,IAAAA,QAAQ,CACNF,SAAS,CAACa,gBAAV,CAA2B;AACzBC,MAAAA,IAAI,EAAE,IADmB;AAEzBC,MAAAA,OAAO,EAAE,8BAFgB;AAGzBC,MAAAA,IAAI,EAAE;AAHmB,KAA3B,CADM,CAAR;;AAOA,UAAMG,WAAW,GAAG,YAAY;AAC9B;AAEA,YAAMf,GAAG,GAAG,MAAMC,KAAK,CACrB,qEADqB,EAErB;AACEe,QAAAA,MAAM,EAAE,KADV;AAEEC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf;AAFR,OAFqB,CAAvB;AAOA,YAAMZ,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB,CAV8B,CAW9B;;AACAL,MAAAA,QAAQ,CACNF,SAAS,CAACa,gBAAV,CAA2B;AACzBC,QAAAA,IAAI,EAAE,IADmB;AAEzBC,QAAAA,OAAO,EAAE,6BAFgB;AAGzBC,QAAAA,IAAI,EAAE;AAHmB,OAA3B,CADM,CAAR;AAOD,KAnBD;;AAoBA,QAAI;AACF,YAAMG,WAAW,EAAjB;AACD,KAFD,CAEE,OAAOP,GAAP,EAAY;AACZV,MAAAA,QAAQ,CACNF,SAAS,CAACa,gBAAV,CAA2B;AACzBC,QAAAA,IAAI,EAAE,IADmB;AAEzBC,QAAAA,OAAO,EAAE,wBAFgB;AAGzBC,QAAAA,IAAI,EAAE;AAHmB,OAA3B,CADM,CAAR;AAOD;AACF,GAvCD;AAwCD,CAzCM","sourcesContent":["import { cartActions } from \"./cart-clice\";\nimport { uiActions } from \"./ui-slice\";\n\nexport const fetchData = () => {\n  return async (dispatch) => {\n    const fetchHandler = async () => {\n      const res = await fetch(\n        \"https://redux-http-d93dc-default-rtdb.firebaseio.com//cartItems.json\"\n      );\n      const data = await res.json();\n      return data;\n    };\n    try {\n      const cartData = await fetchHandler();\n      console.log(cartData);\n      dispatch(cartActions.replaceData(cartData));\n    } catch (err) {\n      dispatch(\n        uiActions.showNotification({\n          open: true,\n          message: \"Sending Request Failed\",\n          type: \"error\",\n        })\n      );\n    }\n  };\n};\n\nexport const sendCartData = (cart) => {\n  return async (dispatch) => {\n    dispatch(\n      uiActions.showNotification({\n        open: true,\n        message: \"Sending Request To Database!\",\n        type: \"warning\",\n      })\n    );\n    const sendRequest = async () => {\n      // Send state as Sending request\n\n      const res = await fetch(\n        \"https://redux-http-bc782-default-rtdb.firebaseio.com/cartItems.json\",\n        {\n          method: \"PUT\",\n          body: JSON.stringify(cart),\n        }\n      );\n      const data = await res.json();\n      // Send state as Request is successful\n      dispatch(\n        uiActions.showNotification({\n          open: true,\n          message: \"Request Sent Successfully!!\",\n          type: \"success\",\n        })\n      );\n    };\n    try {\n      await sendRequest();\n    } catch (err) {\n      dispatch(\n        uiActions.showNotification({\n          open: true,\n          message: \"Sending Request Failed\",\n          type: \"error\",\n        })\n      );\n    }\n  };\n};"]},"metadata":{},"sourceType":"module"}